# ip_to_domain介绍

# 根据ip找公司资产

# 背景

### **正常刷漏洞的流程**

1.用fofa进行信息收集，收集结果一般为ip:端口，结果放在 test.xlsx中

2.用自动化脚本判断网站是否存在漏洞,存在漏洞则记录在 a.xlsx;不存在则pass

**3.对test1.txt的内容进行资产确认，判断是哪家公司的资产**

第一个工具,fofa采集 已经实现了;但只支持但语句查询

第二个工具,每个漏洞的自动化脚本不一样,在/script/中已经内置了一种刷漏洞脚本(狮子鱼sql注入漏洞)

第三个工具,也就是ip反查域名，虽然fofa采集也支持查询域名，但查的不全，因此有了第三个工具

# 为什么需要这么一个工具

1.根据ip找厂商没什么技术含量而且浪费时间:无非就是不停的用第三方网站去搜索

2.有这个工具后，这方面浪费的时间就可以节省下来

# 工具的思路

1.调用fofa查询，拿到一系列ip地址

2.根据这些ip地址调用第三方接口，进行ip反查域名(**这个时间会有点久,后续会使用多线程进行加速**)

3.利用正则匹配获得该公司的信息，并生成一个excel表



# 流程: 

fofa.py收集,并写入a.xlsx

test_sql.py对a.xlsx中的地址进行测试，将有漏洞的写入a_vul.xlsx

ip_to_domain.py将a_vul.xlsx拿出来，进行ip反查域名











































